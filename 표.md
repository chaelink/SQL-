### 오라클 실행계획
<img width="427" height="476" alt="image" src="https://github.com/user-attachments/assets/d6eb8e53-4384-42e7-8a53-f73d3258ed21" />

```sql
Rows   Row Source Operation
-------------------------------------
368    NESTED LOOPS
69       TABLE ACCESS BY INDEX ROWID 상품
9185       INDEX RANGE SCAN 상품_X01
368      TABLE ACCESS BY INDEX ROWID 거래
385        INDEX RANGE SCAN 거래_X02
```

- Rows : 그 단계에서 결과로 나온 건수
- ① INDEX RANGE SCAN 상품_X01 → 9185
  - 👉 상품_X01 인덱스를 범위 스캔했더니
  - 9185개의 인덱스 엔트리를 읽었다는 뜻
- ② TABLE ACCESS BY INDEX ROWID 상품 → 69
  - 👉 위에서 얻은 ROWID로 테이블 접근 후
  - 최종적으로 조건을 만족한 상품은 69건
  - 왜 줄었을까?
  - → 인덱스에 없는 조건이 테이블에서 필터링 됐기 때문

<br>
 
### 오라클 실행계획 + 실행 통계
<img width="517" height="590" alt="image" src="https://github.com/user-attachments/assets/6801d095-aa78-4250-bf76-c4c26764d676" />

| 항목   | 의미                          |
| ---- | --------------------------- |
| cr   | consistent read (논리적 블록 읽기) |
| pr   | physical read (디스크 읽기)      |
| pw   | physical write              |
| time | 수행 시간                       |

- cr : 버퍼캐시에서 읽은 블록 수
- cr은 pr을 포함한 값임, 디스크에서 읽을 때도 버퍼캐시에 적재한 후 읽기 때문

`INDEX RANGE SCAN 상품_X01 (cr=922 pr=31 time=645 us)`
- → 922개의 블록을 버퍼캐시에서 읽었고
- → 31개는 디스크에서 읽었고
- → 645 마이크로초 걸렸다는 의미

🔥 공식처럼 외워
① Rows 확인
② cr 가장 큰 단계 찾기
③ 그 단계가 왜 많은지 원인 분석

<br>

- 오라클 예상 실행 계획
- SQL Server 예상 실행계획
- 오라클 Auto trace
- 오라클 sql 트레이스













